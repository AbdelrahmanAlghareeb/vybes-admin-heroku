{"version":3,"sources":["webpack:///src/app/modules/user-management/components/admins/admin-list/admin-list.component.html","webpack:///src/app/modules/user-management/components/admins/admin-list/admin-list.component.ts","webpack:///src/app/modules/user-management/components/admins/admins-routing.module.ts","webpack:///src/app/modules/user-management/components/admins/admins.module.ts"],"names":["AdminListComponent","dialogService","messageService","confirmationService","UserService","fb","activatedRoute","router","Users","params","subscribe","type","console","log","navigate","getAllUsers","res","data","mode","ref","addOrEdit","onClose","add","severity","summary","detail","life","user","confirm","message","userName","header","icon","accept","filter","u","id","deleteUser","routes","path","component","AdminsRoutingModule","AdminsModule"],"mappings":"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","file":"components-admins-admins-module-ngfactory-es5.js","sourcesContent":["<p-toast></p-toast>\r\n<div class=\"ui-g\">\r\n  <div class=\"ui-g-12\">\r\n    <div class=\"card card-w-title\">\r\n      <h1>{{type[0].toUpperCase()+type.slice(1)}} User</h1>\r\n      <p-toolbar styleClass=\"p-mb-4\">\r\n        <div class=\"ui-toolbar-group-left\">\r\n          <button pButton label=\"New\" icon=\"pi pi-plus\" class=\"p-button-success p-mr-2\"\r\n            (click)=\"openNew('Add')\"></button>\r\n        </div>\r\n      </p-toolbar>\r\n      <p-table #dt [value]=\"Users\" dataKey=\"id\">\r\n\r\n\r\n        <ng-template pTemplate=\"caption\">\r\n          <p class=\"p-text-center\">Global Search</p>\r\n          <div class=\" ui-column-filter p-text-center\">\r\n            <input type=\"text\" pInputText size=\"50\" placeholder=\"Global Filter\"\r\n              (input)=\"dt.filterGlobal($event.target.value, 'contains')\" style=\"width:250px;padding: 10px;\">\r\n          </div>\r\n        </ng-template>\r\n\r\n\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <!-- <th style=\"width: 3rem\">\r\n              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>\r\n            </th> -->\r\n            <!-- <th pSortableColumn=\"profile\">Profile <p-sortIcon field=\"profile\"></p-sortIcon>\r\n            </th> -->\r\n            <th pSortableColumn=\"userName\"> Username <p-sortIcon field=\"userName\"></p-sortIcon>\r\n            </th>\r\n            <th pSortableColumn=\"firstName\"> First Name <p-sortIcon field=\"firstName\"></p-sortIcon>\r\n            </th>\r\n            <th pSortableColumn=\"lastName\">Last Name <p-sortIcon field=\"lastName\"></p-sortIcon>\r\n            </th>\r\n            <th pSortableColumn=\"email\">Email <p-sortIcon field=\"email\">\r\n              </p-sortIcon>\r\n            </th>\r\n            <th>Actions</th>\r\n          </tr>\r\n\r\n        </ng-template>\r\n\r\n\r\n        <ng-template pTemplate=\"body\" let-user let-ri=\"rowIndex\">\r\n          <tr>\r\n            <!-- <th>\r\n              <p-tableCheckbox [value]=\"HardwareParts\"></p-tableCheckbox>\r\n            </th> -->\r\n            <!-- <td style=\"cursor: pointer;\"><a>Profile</a> </td> -->\r\n            <td>{{user.userName}}</td>\r\n            <td>{{user.firstName}}</td>\r\n            <td>{{user.lastName}}</td>\r\n            <td>{{user.email}}</td>\r\n            <td>\r\n\r\n              <!-- <button pButton icon=\"pi pi-pencil\" class=\"p-button p-button-success p-mr-2\"\r\n                (click)=\"openNew('Edit',user)\"></button> -->\r\n\r\n\r\n              <button pButton icon=\"pi pi-trash\" class=\"p-button p-button-warning  p-mr-2\"\r\n                (click)=\"deleteUser(user)\"></button>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <p-confirmDialog [style]=\"{width: '450px'}\"></p-confirmDialog>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { MessageService, ConfirmationService } from 'primeng/api';\r\nimport { DialogService } from 'primeng/dynamicdialog';\r\nimport { RoleType } from '../../../models/role.type.enum';\r\nimport { User, UserGrouped } from '../../../models/user.model';\r\nimport { UserService } from '../../../services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-list',\r\n  templateUrl: './admin-list.component.html',\r\n  styleUrls: ['./admin-list.component.scss'],\r\n  providers: [MessageService, ConfirmationService, DialogService]\r\n})\r\nexport class AdminListComponent implements OnInit {\r\n  Users: User[] = [];\r\n  type: string\r\n  constructor(\r\n    private dialogService: DialogService,\r\n    private messageService: MessageService,\r\n    private confirmationService: ConfirmationService,\r\n    private UserService: UserService,\r\n    private fb: FormBuilder,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.activatedRoute.params.subscribe(\r\n      (params) => {\r\n        // check if this is a valid params\r\n        this.type = params.type\r\n        console.log(this.type, 'type')\r\n        if (!this.type || !(this.type in RoleType)) {\r\n          return this.router.navigate(['/notfound'])\r\n        }\r\n        this.getAllUsers()\r\n      }\r\n    )\r\n  }\r\n\r\n  getAllUsers() {\r\n    this.UserService.getAllUsers(RoleType[this.type]).subscribe((res: UserGrouped) => {\r\n      this.Users = res.data;\r\n    })\r\n  }\r\n\r\n  openNew(mode: string, data?) {\r\n    const ref = this.UserService.addOrEdit(mode, data, this.type, this.dialogService, this.fb)\r\n    ref.onClose.subscribe(data => {\r\n      if (data) {\r\n        this.messageService.add({ severity: 'Success', summary: 'User Action', detail: data, life: 3000 });\r\n        this.getAllUsers();\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteUser(user: User) {\r\n    this.confirmationService.confirm({\r\n      message: 'Are you sure you want to delete ' + user.userName + '?',\r\n      header: 'Confirm',\r\n      icon: 'pi pi-exclamation-triangle',\r\n      accept: () => {\r\n        this.Users = this.Users.filter(u => u.id !== user.id);\r\n        this.UserService.deleteUser(user.id).subscribe(data => {\r\n          this.messageService.add({ severity: 'success', summary: 'Successful', detail: 'User Deleted', life: 3000 });\r\n        })\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AdminListComponent } from './admin-list/admin-list.component'\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"list\",\r\n    component: AdminListComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AdminsRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AdminsRoutingModule } from './admins-routing.module';\r\nimport { AdminListComponent } from './admin-list/admin-list.component';\r\nimport { AdminAddComponent } from \"./admin-add/admin-add.component\";\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\r\nimport { ContextMenuModule } from 'primeng/contextmenu';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { DynamicDialogModule } from 'primeng/dynamicdialog';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { InputNumberModule } from 'primeng/inputnumber';\r\nimport { InputTextModule } from 'primeng/inputtext';\r\nimport { MultiSelectModule } from 'primeng/multiselect';\r\nimport { TableModule } from 'primeng/table';\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { ToolbarModule } from 'primeng/toolbar';\r\nimport { AddressInfoComponent } from 'src/app/modules/order-management/address-info/address-info.component';\r\nimport { AddComponent } from '../basic/add/add.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [AdminListComponent, AdminAddComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AdminsRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TableModule,\r\n    DropdownModule,\r\n    MultiSelectModule,\r\n    ButtonModule,\r\n    ToolbarModule,\r\n    FileUploadModule,\r\n    DynamicDialogModule,\r\n    MultiSelectModule,\r\n    ContextMenuModule,\r\n    ToastModule,\r\n    InputTextModule,\r\n    InputNumberModule,\r\n    ConfirmDialogModule\r\n  ],\r\n  entryComponents: [\r\n    AddComponent,\r\n    AddressInfoComponent\r\n  ]\r\n})\r\nexport class AdminsModule { }\r\n"]}