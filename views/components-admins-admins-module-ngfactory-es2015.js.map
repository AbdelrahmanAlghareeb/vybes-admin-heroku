{"version":3,"sources":["./src/app/modules/user-management/components/admins/admin-list/admin-list.component.html","./src/app/modules/user-management/components/admins/admin-list/admin-list.component.ts","./src/app/modules/user-management/components/admins/admins-routing.module.ts","./src/app/modules/user-management/components/admins/admins.module.ts"],"names":[],"mappings":"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","file":"components-admins-admins-module-ngfactory-es2015.js","sourcesContent":["<p-toast></p-toast>\r\n<div class=\"ui-g\">\r\n  <div class=\"ui-g-12\">\r\n    <div class=\"card card-w-title\">\r\n      <h1>{{type[0].toUpperCase()+type.slice(1)}} User</h1>\r\n      <p-toolbar styleClass=\"p-mb-4\">\r\n        <div class=\"ui-toolbar-group-left\">\r\n          <button pButton label=\"New\" icon=\"pi pi-plus\" class=\"p-button-success p-mr-2\"\r\n            (click)=\"openNew('Add')\"></button>\r\n        </div>\r\n      </p-toolbar>\r\n      <p-table #dt [value]=\"Users\" dataKey=\"id\">\r\n\r\n\r\n        <ng-template pTemplate=\"caption\">\r\n          <p class=\"p-text-center\">Global Search</p>\r\n          <div class=\" ui-column-filter p-text-center\">\r\n            <input type=\"text\" pInputText size=\"50\" placeholder=\"Global Filter\"\r\n              (input)=\"dt.filterGlobal($event.target.value, 'contains')\" style=\"width:250px;padding: 10px;\">\r\n          </div>\r\n        </ng-template>\r\n\r\n\r\n        <ng-template pTemplate=\"header\">\r\n          <tr>\r\n            <!-- <th style=\"width: 3rem\">\r\n              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>\r\n            </th> -->\r\n            <!-- <th pSortableColumn=\"profile\">Profile <p-sortIcon field=\"profile\"></p-sortIcon>\r\n            </th> -->\r\n            <th pSortableColumn=\"userName\"> Username <p-sortIcon field=\"userName\"></p-sortIcon>\r\n            </th>\r\n            <th pSortableColumn=\"firstName\"> First Name <p-sortIcon field=\"firstName\"></p-sortIcon>\r\n            </th>\r\n            <th pSortableColumn=\"lastName\">Last Name <p-sortIcon field=\"lastName\"></p-sortIcon>\r\n            </th>\r\n            <th pSortableColumn=\"email\">Email <p-sortIcon field=\"email\">\r\n              </p-sortIcon>\r\n            </th>\r\n            <th>Actions</th>\r\n          </tr>\r\n\r\n        </ng-template>\r\n\r\n\r\n        <ng-template pTemplate=\"body\" let-user let-ri=\"rowIndex\">\r\n          <tr>\r\n            <!-- <th>\r\n              <p-tableCheckbox [value]=\"HardwareParts\"></p-tableCheckbox>\r\n            </th> -->\r\n            <!-- <td style=\"cursor: pointer;\"><a>Profile</a> </td> -->\r\n            <td>{{user.userName}}</td>\r\n            <td>{{user.firstName}}</td>\r\n            <td>{{user.lastName}}</td>\r\n            <td>{{user.email}}</td>\r\n            <td>\r\n\r\n              <!-- <button pButton icon=\"pi pi-pencil\" class=\"p-button p-button-success p-mr-2\"\r\n                (click)=\"openNew('Edit',user)\"></button> -->\r\n\r\n\r\n              <button pButton icon=\"pi pi-trash\" class=\"p-button p-button-warning  p-mr-2\"\r\n                (click)=\"deleteUser(user)\"></button>\r\n            </td>\r\n          </tr>\r\n        </ng-template>\r\n      </p-table>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <p-confirmDialog [style]=\"{width: '450px'}\"></p-confirmDialog>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { MessageService, ConfirmationService } from 'primeng/api';\r\nimport { DialogService } from 'primeng/dynamicdialog';\r\nimport { RoleType } from '../../../models/role.type.enum';\r\nimport { User, UserGrouped } from '../../../models/user.model';\r\nimport { UserService } from '../../../services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-list',\r\n  templateUrl: './admin-list.component.html',\r\n  styleUrls: ['./admin-list.component.scss'],\r\n  providers: [MessageService, ConfirmationService, DialogService]\r\n})\r\nexport class AdminListComponent implements OnInit {\r\n  Users: User[] = [];\r\n  type: string\r\n  constructor(\r\n    private dialogService: DialogService,\r\n    private messageService: MessageService,\r\n    private confirmationService: ConfirmationService,\r\n    private UserService: UserService,\r\n    private fb: FormBuilder,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.activatedRoute.params.subscribe(\r\n      (params) => {\r\n        // check if this is a valid params\r\n        this.type = params.type\r\n        console.log(this.type, 'type')\r\n        if (!this.type || !(this.type in RoleType)) {\r\n          return this.router.navigate(['/notfound'])\r\n        }\r\n        this.getAllUsers()\r\n      }\r\n    )\r\n  }\r\n\r\n  getAllUsers() {\r\n    this.UserService.getAllUsers(RoleType[this.type]).subscribe((res: UserGrouped) => {\r\n      this.Users = res.data;\r\n    })\r\n  }\r\n\r\n  openNew(mode: string, data?) {\r\n    const ref = this.UserService.addOrEdit(mode, data, this.type, this.dialogService, this.fb)\r\n    ref.onClose.subscribe(data => {\r\n      if (data) {\r\n        this.messageService.add({ severity: 'Success', summary: 'User Action', detail: data, life: 3000 });\r\n        this.getAllUsers();\r\n      }\r\n    })\r\n  }\r\n\r\n  deleteUser(user: User) {\r\n    this.confirmationService.confirm({\r\n      message: 'Are you sure you want to delete ' + user.userName + '?',\r\n      header: 'Confirm',\r\n      icon: 'pi pi-exclamation-triangle',\r\n      accept: () => {\r\n        this.Users = this.Users.filter(u => u.id !== user.id);\r\n        this.UserService.deleteUser(user.id).subscribe(data => {\r\n          this.messageService.add({ severity: 'success', summary: 'Successful', detail: 'User Deleted', life: 3000 });\r\n        })\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AdminListComponent } from './admin-list/admin-list.component'\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"list\",\r\n    component: AdminListComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AdminsRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AdminsRoutingModule } from './admins-routing.module';\r\nimport { AdminListComponent } from './admin-list/admin-list.component';\r\nimport { AdminAddComponent } from \"./admin-add/admin-add.component\";\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\r\nimport { ContextMenuModule } from 'primeng/contextmenu';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { DynamicDialogModule } from 'primeng/dynamicdialog';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { InputNumberModule } from 'primeng/inputnumber';\r\nimport { InputTextModule } from 'primeng/inputtext';\r\nimport { MultiSelectModule } from 'primeng/multiselect';\r\nimport { TableModule } from 'primeng/table';\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { ToolbarModule } from 'primeng/toolbar';\r\nimport { AddressInfoComponent } from 'src/app/modules/order-management/address-info/address-info.component';\r\nimport { AddComponent } from '../basic/add/add.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [AdminListComponent, AdminAddComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AdminsRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TableModule,\r\n    DropdownModule,\r\n    MultiSelectModule,\r\n    ButtonModule,\r\n    ToolbarModule,\r\n    FileUploadModule,\r\n    DynamicDialogModule,\r\n    MultiSelectModule,\r\n    ContextMenuModule,\r\n    ToastModule,\r\n    InputTextModule,\r\n    InputNumberModule,\r\n    ConfirmDialogModule\r\n  ],\r\n  entryComponents: [\r\n    AddComponent,\r\n    AddressInfoComponent\r\n  ]\r\n})\r\nexport class AdminsModule { }\r\n"],"sourceRoot":"webpack:///"}